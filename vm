#!/usr/bin/env python3
import sys

def run(bytecode: str):
    stack = []
    vars = {}
    ip = 0

    prog = [line.split() for line in bytecode.strip().splitlines()]
    labels = {}

    # First pass: collect labels
    for i, inst in enumerate(prog):
        if inst[0] == "LABEL":
            labels[inst[1]] = i

    # Execute
    while ip < len(prog):
        inst = prog[ip]
        op = inst[0]

        if op == "PUSH":
            stack.append(int(inst[1]))

        elif op == "LOAD":
            stack.append(vars.get(inst[1], 0))

        elif op == "STORE":
            vars[inst[1]] = stack.pop()

        elif op == "ADD":
            b, a = stack.pop(), stack.pop()
            stack.append(a + b)

        elif op == "SUB":
            b, a = stack.pop(), stack.pop()
            stack.append(a - b)

        elif op == "MUL":
            b, a = stack.pop(), stack.pop()
            stack.append(a * b)

        elif op == "DIV":
            b, a = stack.pop(), stack.pop()
            stack.append(a // b)

        elif op == "LT":
            b, a = stack.pop(), stack.pop()
            stack.append(1 if a < b else 0)

        elif op == "EQ":
            b, a = stack.pop(), stack.pop()
            stack.append(1 if a == b else 0)

        elif op == "PRINT":
            print(stack.pop())

        elif op == "JMP":
            ip = labels[inst[1]]
            continue

        elif op == "JZ":
            if stack.pop() == 0:
                ip = labels[inst[1]]
                continue

        elif op == "LABEL":
            pass  # no-op

        else:
            raise RuntimeError(f"Unknown instruction: {inst}")

        ip += 1


if __name__ == "__main__":
    bytecode = sys.stdin.read()
    run(bytecode)
